<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>CATTABRIGA QUANT LAB â€” Rainbow Singularity</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
/* ===========================
    GLOBAL RESET
=========================== */
* { margin:0; padding:0; box-sizing:border-box; }
html,body { width:100%; height:100%; overflow:hidden; background:#000; font-family:Arial, sans-serif; }

/* ===========================
    FULLSCREEN CANVAS LAYERS
=========================== */
#glCanvas, #particlesCanvas {
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    display:block;
}

/* ===========================
    CINEMATIC INTRO
=========================== */
#intro {
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:black;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    z-index:10000;
    animation:fadeOut 7s forwards ease-in-out;
}

@keyframes fadeOut {
    0% { opacity:1; }
    70% { opacity:1; }
    100% { opacity:0; visibility:hidden; }
}

.intro-text {
    font-size:3.5rem;
    font-weight:bold;
    color:white;
    text-align:center;
    opacity:0;
    text-shadow:0 0 20px white;
    animation:glitchIn 3s forwards ease;
}

#intro2 {
    animation-delay:3.5s;
}

@keyframes glitchIn {
    0% { opacity:0; transform:scale(0.9); filter:blur(10px); }
    20% { opacity:1; transform:scale(1); filter:blur(0); }
    30% { transform:translateX(-5px); }
    32% { transform:translateX(5px); }
    34% { transform:translateX(0); }
    100% { opacity:1; }
}

/* ===========================
    HOLOGRAM PANELS
=========================== */
#hud {
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    pointer-events:none;
    mix-blend-mode:screen;
    z-index:999;
}

.holo {
    position:absolute;
    padding:20px;
    border:1px solid rgba(255,255,255,0.2);
    border-radius:8px;
    backdrop-filter:blur(10px);
    background:rgba(255,255,255,0.03);
    color:white;
    font-size:1rem;
    box-shadow:0 0 15px rgba(255,255,255,0.3);
    animation:float 6s infinite ease-in-out;
}

@keyframes float {
    0% { transform:translateY(0); }
    50% { transform:translateY(-10px); }
    100% { transform:translateY(0); }
}

#panel-left { left:40px; top:40px; width:220px; }
#panel-right { right:40px; top:40px; width:260px; }

/* ===========================
    RAINBOW LIQUID CURSOR
=========================== */
#cursor {
    position:fixed;
    width:18px; height:18px;
    border-radius:50%;
    pointer-events:none;
    z-index:10001;
    background:radial-gradient(circle, white, rgba(255,255,255,0));
    box-shadow:
        0 0 20px rgba(255,0,255,1),
        0 0 40px rgba(0,255,255,1),
        0 0 60px rgba(255,255,0,1);
    mix-blend-mode:screen;
    transition:transform 0.08s linear;
}
</style>
</head>
<body>

<!-- ===========================
     CINEMATIC INTRO SEQUENCE
=========================== -->
<div id="intro">
    <div class="intro-text" id="intro1">CATTABRIGA QUANT LAB</div>
    <div class="intro-text" id="intro2" style="animation-delay:3.5s;">
        EDOARDO CATTABRIGA â€” Quantum Trader
    </div>
</div>

<!-- ===========================
     CANVAS LAYERS
=========================== -->
<canvas id="glCanvas"></canvas>
<canvas id="particlesCanvas"></canvas>

<!-- ===========================
     HUD PANELS
=========================== -->
<div id="hud">
    <div class="holo" id="panel-left">
        <strong>Neural Metrics</strong><br><br>
        â€¢ Volatility Flux: 98%<br>
        â€¢ Trend Signal: RAINBOW BREAKOUT<br>
        â€¢ Liquidity Waveform: ACTIVE<br>
        â€¢ Quantum Sync: STABLE
    </div>

    <div class="holo" id="panel-right">
        <strong>Live System Status</strong><br><br>
        â€¢ Particle Core: ONLINE<br>
        â€¢ Shader Engine: MAXED<br>
        â€¢ Spectrum Shift: ACTIVE<br>
        â€¢ CPU Usage: HIGH (ðŸ˜ˆ)
    </div>
</div>

<!-- ===========================
     CURSOR ELEMENT
=========================== -->
<div id="cursor"></div>

<script>
/* ===========================
    RAINBOW CURSOR
=========================== */
const cursor = document.getElementById("cursor");
document.addEventListener("mousemove", e => {
    cursor.style.left = e.clientX + "px";
    cursor.style.top = e.clientY + "px";
    cursor.style.transform = "scale(1.5)";
    setTimeout(()=>cursor.style.transform="scale(1)",50);
});

/* ===========================
    PARTICLE NEURAL SPHERE
=========================== */
const pCanvas = document.getElementById("particlesCanvas");
const pCtx = pCanvas.getContext("2d");

function resize() {
    pCanvas.width = window.innerWidth;
    pCanvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

let particles = [];
const COUNT = 900;

for(let i=0; i<COUNT; i++){
    let theta = Math.random() * 2 * Math.PI;
    let phi = Math.acos(2 * Math.random() - 1);
    let r = 180;

    particles.push({
        x: r * Math.sin(phi) * Math.cos(theta),
        y: r * Math.sin(phi) * Math.sin(theta),
        z: r * Math.cos(phi),
        size: Math.random() * 2 + 1
    });
}

let angle = 0;

function drawParticles(){
    pCtx.clearRect(0,0,pCanvas.width,pCanvas.height);

    angle += 0.003;
    let sin = Math.sin(angle);
    let cos = Math.cos(angle);

    for(let p of particles){
        let x = p.x * cos - p.z * sin;
        let z = p.z * cos + p.x * sin;

        let scale = 300 / (300 + z);
        let px = x * scale + pCanvas.width/2;
        let py = p.y * scale + pCanvas.height/2;

        // spectral rainbow color
        let hue = (angle*1000 + p.x + p.y) % 360;
        pCtx.fillStyle = `hsl(${hue}, 100%, 60%)`;

        pCtx.beginPath();
        pCtx.arc(px, py, p.size*scale, 0, Math.PI*2);
        pCtx.fill();
    }

    requestAnimationFrame(drawParticles);
}
drawParticles();

/* ===========================
    RAINBOW NEBULA WEBGL BACKGROUND
=========================== */
const canvas = document.getElementById("glCanvas");
const gl = canvas.getContext("webgl");

function resizeGL(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    gl.viewport(0,0,gl.canvas.width, gl.canvas.height);
}
resizeGL();
window.addEventListener("resize", resizeGL);

// minimal shader for rainbow nebula
const vs = `
attribute vec2 aPosition;
void main() {
    gl_Position = vec4(aPosition,0.0,1.0);
}
`;

const fs = `
precision highp float;
uniform float uTime;
uniform vec2 uRes;

vec3 spectrum(float x){
    return 0.5 + 0.5*cos(6.2831*(vec3(0.0,0.33,0.67)+x));
}

void main(){
    vec2 uv = gl_FragCoord.xy/uRes.xy;
    float t = uTime*0.05;

    float v = 0.0;
    v += sin((uv.x+uv.y+t)*10.0);
    v += sin((uv.x*4.0 - uv.y*3.0 + t)*8.0);
    v += sin((uv.x*10.0 + uv.y*10.0 - t*2.0)*4.0);
    v = v/3.0;

    vec3 col = spectrum(v + t*0.1);

    gl_FragColor = vec4(col, 0.35);
}
`;

function compileShader(type,source){
    const s = gl.createShader(type);
    gl.shaderSource(s,source);
    gl.compileShader(s);
    return s;
}

const vShader = compileShader(gl.VERTEX_SHADER,vs);
const fShader = compileShader(gl.FRAGMENT_SHADER,fs);

const prog = gl.createProgram();
gl.attachShader(prog,vShader);
gl.attachShader(prog,fShader);
gl.linkProgram(prog);
gl.useProgram(prog);

const quad = new Float32Array([
    -1,-1,  1,-1, -1,1,
    -1,1,   1,-1,  1,1
]);
const buf = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER,buf);
gl.bufferData(gl.ARRAY_BUFFER,quad,gl.STATIC_DRAW);

const aPos = gl.getAttribLocation(prog,"aPosition");
gl.enableVertexAttribArray(aPos);
gl.vertexAttribPointer(aPos,2,gl.FLOAT,false,0,0);

const uTime = gl.getUniformLocation(prog,"uTime");
const uRes = gl.getUniformLocation(prog,"uRes");

function render(t){
    gl.uniform1f(uTime, t*0.001);
    gl.uniform2f(uRes, canvas.width, canvas.height);
    gl.drawArrays(gl.TRIANGLES,0,6);
    requestAnimationFrame(render);
}
requestAnimationFrame(render);

</script>
</body>
</html>
